<p align="center">
  <img src="icon.png" width="128" height="128" alt="RoadArchitect icon">
</p>

<p align="center">
  <a href="https://modrinth.com/mod/roadarchitect">
    <img alt="Modrinth Downloads" src="https://img.shields.io/modrinth/dt/dLRvLyY3?style=flat&logo=modrinth">
  </a>
  <a href="https://www.curseforge.com/minecraft/mc-mods/roadarchitect">
    <img alt="CurseForge Downloads" src="https://img.shields.io/curseforge/dt/1326434?style=flat&logo=curseforge">
  </a>
</p>

<p align="center" style="display: flex; justify-content: center; gap: 6px;">
    <a href="https://modrinth.com/mod/roadarchitect/versions?l=fabric">
        <img src="https://cdn.modrinth.com/data/cached_images/d8a8d9852fb6e55292d6f5ecc1842fd7bc8c3c9e.webp" alt="Available on Fabric">
    </a>
    <a href="https://modrinth.com/mod/roadarchitect/versions?l=quilt">
        <img src="https://cdn.modrinth.com/data/cached_images/77e67c2eae40b638430d5959e9a0d0ef60f76f41.webp" alt="Available on Quilt">
    </a>
   <a href="https://modrinth.com/mod/roadarchitect/versions?l=neoforge">
    <img src="https://cdn.modrinth.com/data/cached_images/ecbd0303728027761730760800f9354e14f38d31.webp" alt="Available on NeoForge">
  </a>
</p>
<p align="center" style="display:flex;justify-content:center;gap:8px;margin:6px 0;">
  <a href="https://boosty.to/0xcodsnet" target="_blank" rel="noopener">
    <img alt="Boosty — Support" src="https://img.shields.io/badge/Boosty-Support-F15F2C?style=for-the-badge&logo=boosty&logoColor=white">
  </a>
</p>

# RoadArchitect

**RoadArchitect** is a **Fabric / Quilt / NeoForge** mod for **Minecraft 1.21–1.21.8** that automatically scans the world for villages and other structures and connects them with roads to form a persistent travel network.  
Roads adapt their style to the biome, and the network is saved between game sessions.

> **Current version:** `v1.4.0`

> **Wiki:** <a href="https://github.com/0xCoDSnet/RoadArchitect/wiki">RoadArchitect Wiki</a>

## ✨ Features

- 🏘 **Automatic detection** of villages and other structures  
- 🎨 **Biome-aware road styles** for better immersion  
- 🧭 **Smart pathfinding** using A* with terrain caching  
- 💾 **Persistent network** — roads remain between sessions  
- 🔄 **Fully automated**, minimal setup  
- 🧰 **Configurable** via **Cloth Config** *(required on Fabric / Quilt / NeoForge)*  
- 🌐 **Localization** included: English, Russian, Ukrainian, Spanish, French, German, Chinese  
- 🛰 **Visual road-graph debugger** with pan/zoom, tooltips, and a color legend; in singleplayer, clicking a node teleports to it (default hotkey **H**)
- 🗺 **Terralith-ready** — works out of the box with the <a href="https://modrinth.com/datapack/terralith">Terralith</a> world-generation datapack

---

## 📷 Screenshots

### Plains (with lamp decorations)
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/6396ec0041c37f3a716514a5622a438c7d5aa838.webp" height="512">
</p>

### Plains
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/36c5f56757f8d448dc00cffddbd3ac129cb2bb91.webp" height="512">
</p>

### Savanna
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/4b3da6120c5ff2e47f76a8c30fc501b09f19fdff.webp" height="512">
</p>

### Desert
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/295ab7327a26e0178f709c9ea4ea4e884607b5fe.webp" height="512">
</p>

### Forest
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/827177b77f8dfdbdd7d066a0d5f810645b51f172.webp" height="512">
</p>

### Cherry grove
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/45a4421507316e4a5c8a945f7689804dd054821a.webp" height="512">
</p>

### Cherry grove (with lamp decorations)
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/ad851b4b32f62f165b6e37b3c26fffaf36129ff8.webp" height="512">
</p>

### Taiga
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/138dc531317fc291c44471533066d6d997d53af8.webp" height="512">
</p>

### Swamp
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/d794b96b28bf84884902ca2e05504617ee1f9800.webp" height="512">
</p>

### Old growth spruce taiga
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/a228fa4f9649aea42ae66d9269442686df6521a9.webp" height="512">
</p>

### River
<p align="left">
  <img src="https://cdn.modrinth.com/data/dLRvLyY3/images/c99e8d83bce571228c71efa6a3f6522551af16d9.webp" height="512">
</p>

---

## 📥 Installation (Minecraft 1.21.x)

**Loaders:** Fabric / Quilt / NeoForge

1. Install a **loader** compatible with your game:
   - **Fabric**
   - **Quilt**
   - **NeoForge**
2. **Required dependency (all loaders):**  
   - **Cloth Config** *(mandatory on Fabric / Quilt / NeoForge)*
3. Download the mod:
   <p align="center" style="display:flex;justify-content:center;gap:8px;margin:6px 0;">
     <a href="https://modrinth.com/mod/roadarchitect">
       <img src="https://cdn.jsdelivr.net/npm/@intergrav/devins-badges@3/assets/compact/available/modrinth_vector.svg" alt="Available on Modrinth">
     </a>
     <a href="https://www.curseforge.com/minecraft/mc-mods/roadarchitect">
       <img src="https://cdn.jsdelivr.net/npm/@intergrav/devins-badges@3/assets/compact/available/curseforge_vector.svg" alt="Available on CurseForge">
     </a>
   </p>
4. Place the `.jar` file in your `mods` folder.
5. *(Optional)*
   - **Mod Menu** (Fabric/Quilt) for quick access to settings.
   - **Catalogue** by MrCrayfish (NeoForge)
     > Settings are also available from the mods list
     
> **Note:** Starting with `v1.2.0`, **owo-lib is not required**.
---

## 🕹 Usage

- The mod automatically scans the world and builds roads between detected structures.  
- Open the **road-graph debug** window with **H** (rebindable in Controls).  
- In **singleplayer**, clicking a node in the debug view teleports you to it.

---

## 🗒️ Recent changes

<details>
<summary><strong>v1.4.0</strong> — <em>Add-ons support</em></summary>

### Highlights

- 🧩 Add-ons support: official API so other mods can extend Road Architect (events, read-only core views, and per-world storage);
- 📴 No changes out of the box: there are no built-in add-ons; gameplay stays the same unless you install one.;

**Compatibility:** No visible gameplay changes by default; add-ons are optional.;
</details>


<details>
<summary><strong>v1.3.0</strong> — <em>Smarter scans & deterministic decorations</em></summary>

### Highlights
- 🧠 Smarter scanning: major performance boost for large-area scans and many structure types—smoother gameplay, cleaner road graphs, and more reliable structure detection.
- 🌲 Deterministic decorations: consistent, per-path placement of decorations (lamps, buoys, side pieces) across chunk loads—less pop-in and cleaner chunk borders. Also fixes common issues like floating fence posts or off-grid buoys.
- 💡 New Lamp decorations: fresh styles and better fence integration where appropriate.
- 🧭 Debug map: shows your position and direction (red dot + arrow).
- ⚙️ New settings (all loaders):
    - Lamp interval
    - Side decoration interval
    - Buoy interval
    - Mask erosion near land/water transitions
    - Toggle for deterministic decorations
- 🛤️ Smoother road profiles: post-processing reduces spikes and clamps extreme slopes for cleaner elevation transitions.
- 🌐 Localization & UI: updated strings (EN/RU/ES/FR/DE/ZH) and a small progress-stage label fix (“initialisation”).

**Compatibility:** No breaking changes; existing worlds remain compatible.
</details>

<details>
<summary><strong>v1.2.0</strong> — <em>Vanilla loading, convenient settings, visual debug</em></summary>

### Highlights
- 🪄 **Progress screen**: dropped `owo-lib` and switched to vanilla rendering (Fabric/Quilt and NeoForge), showing the current pipeline stage.
- 🧭 **Road-graph debug screen**: pan/zoom, tooltips, and a color legend; in singleplayer, clicking a node teleports to it. Opens with **H**.
- 🧰 **Settings**: **Cloth Config** on all loaders; **Mod Menu** support (Fabric/Quilt); **Catalogue** support (NeoForge).
- 🌐 **Localizations**: English, Russian, Spanish, French, German, Chinese.

**Compatibility:** No breaking changes; existing worlds remain compatible.
</details>

<details>
<summary><strong>v1.1.0</strong> — <em>Smoother paths, smarter junctions, cleaner buoys</em></summary>

### Highlights
- ⚙️ Pathfinding (A* / ARA*): adjusted heuristic, removed early termination, expanded profiling.
- 🏗️ Post-processing: trimming roads near nodes, improved junction merging and stabilization.
- 🌊 Buoys: placed only on “clean” water, spaced by real distance, interval increased **12 → 18**.
- 🔧 Fixed client ↔ server sync when registering command arguments.
- 🐛 Fixed swamp style: uses `MOSSY_COBBLESTONE_WALL` instead of `MOSSY_COBBLESTONE`.
- 📦 Reduced mod size.

**Compatibility:** No breaking changes; worlds from `1.0.1` remain fully compatible.
</details>

---

## ❓ FAQ

<details>
  <summary>Is this mod server side? or is it both server-client sided?</summary>
  The mod is both server and client sided.
  
  To join a server, the mod must be installed on both the server and the client.
</details>

<details>
  <summary>Does it work with the Terralith world-generation datapack?</summary>
  Yes — RoadArchitect is fully compatible with <a href="https://modrinth.com/datapack/terralith">Terralith</a>. Roads scan and connect structures in Terralith biomes out of the box.
</details>

<details>
  <summary>Only villages are being connected?</summary>
  
  Not only! RoadArchitect can connect any structure discoverable via `/locate structure`. Add the structure IDs or a `#tag` in the config, then reload/restart the world to rescan.
</details>

---

## 📜 License

This project is licensed under the **Apache License 2.0** — see the [LICENSE](LICENSE) file for details.  
You can also read the full license text here: [Apache 2.0](https://www.apache.org/licenses/LICENSE-2.0)

---

<p align="center">Crafted with ❤️ for the Minecraft community</p>
